{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://github.com/pseusys/ClassicDungeon/blob/master/ui.schema.json",

  "type": "object",
  "properties": {
    "cls": { "enum": [ "BackgroundUI", "ClipUI", "FrameUI", "ImageUI", "LayoutUI", "TextUI", "WidgetUI" ] },
    "id": { "type": "string" },
    "value": { "$ref": "#/$defs/widget" },
    "children": { "type": "array", "items": { "$ref": "#" } },
    "background": { "$ref": "#/$defs/widget" }
  },
  "required": [ "cls", "id", "value" ],
  "additionalProperties": false,

  "$defs": {
    "widget": {
      "type": "object",
      "patternProperties": {
        "^[A-Za-z][A-Za-z]*$": {
          "anyOf": [
            { "not": { "type": "object" } },
            { "$ref": "#/$defs/color" },
            { "$ref": "#/$defs/rectangle" },
            { "$ref": "#/$defs/vector" }
          ]
        }
      }
    },

    "color": {
      "type": "object",
      "properties": {
        "value": { "type": "array", "items": "number" }
      },
      "required": [ "value" ],
      "additionalProperties": false
    },

    "rectangle": {
      "type": "object",
      "properties": {
        "left": { "type": "number" },
        "top": { "type": "number" },
        "right": { "type": "number" },
        "bottom": { "type": "number" }
      },
      "required": [ "left", "top", "right", "bottom" ],
      "additionalProperties": false
    },

    "vector": {
      "type": "object",
      "properties": {
        "x": { "type": "number" },
        "y": { "type": "number" }
      },
      "required": [ "x", "y" ],
      "additionalProperties": false
    }
  }
}
